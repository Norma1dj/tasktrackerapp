{% extends 'base.html' %}

{% load static %}

{% block title %}
    Show Tasks
{% endblock title %}
{% block content %}
    <header>
        <div>
            <a href="{% url 'list_projects' %}"><lord-icon src="https://cdn.lordicon.com/gmzxduhd.json" title="My Projects" trigger="hover"  colors="primary:#121331,secondary:#08a88a" style="width:50px"></a>
            <a href="{% url 'show_my_tasks' %}"><lord-icon src="https://cdn.lordicon.com/nocovwne.json" trigger="hover" title="My Tasks" colors="primary:#121331,secondary:#08a88a" style="width:50px;">
            </lord-icon></a>
            </lord-icon>
        </div>
        <div>
            <h1>My Tasks</h1>
        </div>
        <nav>
            <ul>
                {% if user.is_authenticated %}
                    <div>
                        <a href="{% url 'logout' %}">
                            <lord-icon src="https://cdn.lordicon.com/moscwhoj.json" trigger="hover" title="Log Out"colors="primary:#121331,secondary:#08a88a" style="width:50px;height:50px">
                            </lord-icon>
                        </lord-icon></a>
                    </div>
                {% else %}
                    <li>
                        <a href="{% url 'login' %}">Login</a>
                    </li>
                    <li>
                        <a href="{% url 'signup' %}">Signup</a>
                    </li>
                {% endif %}
            </ul>
        </nav>
    </header>
    <main>
        <div>
            <table class="styled-table">
                {% if tasks %}
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Start date</th>
                        <th>Due date</th>
                        <th>Is completed</th>
                    </tr>
                </thead>
                <tbody>
                    
                        {% for task in tasks %}
                            <tr class="active-row">
                                <td>{{ task.name }}</td>
                                <td>{{ task.start_date }}</td>
                                <td>{{ task.due_date }}</td>
                                <td>{{ task.is_completed|yesno:"yes,no" }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                    <tfoot>
                        <tr>
                            <td>
                                <a href="{% url 'create_task' %}"><lord-icon src="https://cdn.lordicon.com/mecwbjnp.json" trigger="hover" title="Create New Task" colors="primary:#121331,secondary:#08a88a" style="width:25px;">
                                </lord-icon></a>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            {% else %}
                <p>You have no tasks</p>
                <a href="{% url 'create_task' %}"><lord-icon src="https://cdn.lordicon.com/mecwbjnp.json" trigger="hover" title="Create New Task" colors="primary:#121331,secondary:#08a88a" style="width:25px;">
                </lord-icon></a>
            {% endif %}
        </div>
        
    </main>
{% endblock content %}
